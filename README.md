# Goodstart_telegram_bot

–ß–∞—Ç-–±–æ—Ç –≤ –¢–µ–ª–µ–≥—Ä–∞–º –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ —É—á–µ–Ω–∏–∫–æ–≤ –æ–Ω–ª–∞–π–Ω —à–∫–æ–ª—ã.
CMS –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º.

# –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¢–ó](https://docs.google.com/document/d/1VUSzwJ_7xS27LN53y2hdO5wPQ6rMDnPr/edit)

   1.1. [ER - –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π](docs/Goodstart%20ER%20diagram.jpg)

   1.2. [–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)](https://miro.com/app/board/uXjVKTz7zLw=/)

   1.3. [BPMN –¥–∏–∞–≥—Ä–∞–º–º–∞ (–∫–µ–π—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)](docs/bpmn/registration.jpg)

   1.4. [BPMN –¥–∏–∞–≥—Ä–∞–º–º–∞ (–∫–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º)](docs/bpmn/teacher_interaction.jpg)

   1.5. [BPMN –¥–∏–∞–≥—Ä–∞–º–º–∞ (–∫–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —É—á–µ–Ω–∏–∫–æ–º)](docs/bpmn/student_interaction.jpg)

2. [–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](#technologies-project)

3. [–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å git](#git)

4. [–ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#ssl)

5. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ django-admin-material](#dma)

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏<a id="technologies-project"></a>:

![Python 3.12](https://img.shields.io/badge/Python-3.12-brightgreen.svg?style=flat&logo=python&logoColor=white)
![Poetry](https://img.shields.io/badge/Poetry-brightgreen.svg?style=flat&logo=poetry&logoColor=white&color=blue)
![Pre-commit](https://img.shields.io/badge/pre--commit-brightgreen.svg?style=flat&logo=pre-commit&logoColor=white&color=blue)
![Python-telegram-bot 21.1.1](https://img.shields.io/badge/python--telegram--bot-21.1.1-brightgreen.svg?style=flat&logo=python&logoColor=white)
![Django 5.0.4](https://img.shields.io/badge/Django-5.0.4-brightgreen.svg?style=flat&logo=django&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-brightgreen.svg?style=flat&logo=docker&logoColor=white&color=blue)
![Postgres](https://img.shields.io/badge/Postgres-brightgreen.svg?style=flat&logo=postgresql&logoColor=white&color=blue)
![Redis](https://img.shields.io/badge/Redis-brightgreen.svg?style=flat&logo=redis&logoColor=white&color=blue)


## –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å git<a id="git"></a>:

1. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏:
- `master` - "–ø—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è" –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞.
- `dev` ‚Äî ‚Äú–ø—Ä–µ–¥—Ä–µ–ª–∏–∑–Ω–∞—è‚Äù –≤–µ—Ç–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ä–∞–±–æ—á–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∫–æ–¥.
2. –°–æ–∑–¥–∞–≤–∞—è –Ω–æ–≤—É—é –≤–µ—Ç–∫—É, –Ω–∞—Å–ª–µ–¥—É–π—Ç–µ—Å—å –æ—Ç –≤–µ—Ç–∫–∏ `dev`:
    ```
    git checkout dev
    ```
    ```
    git checkout -b –∏–º—è_–Ω–æ–≤–æ–π_–≤–µ—Ç–∫–∏
    ```
3. –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤–µ—Ç–æ–∫
   - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:
     ```
     git checkout -b feature/–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
     ```
   - –ª–æ–≤–ª—è –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤:
     ```
     git checkout -b bugfix/–Ω–∞–∑–≤–∞–Ω–∏–µ_–±–∞–≥—Ñ–∏–∫—Å–∞
     ```
4. –ü—Ä–µ–∂–¥–µ —á–µ–º —Å–º–µ—Ä–∂–∏—Ç—å –≤–µ—Ç–∫—É –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞/–±–∞–≥—Ñ–∏–∫—Å–∞
—Å –≤–µ—Ç–∫–æ–π `dev`, –∑–∞–ø—É—à—Ç–µ –µ—ë –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –∏–Ω–∏—Ü–∏–∏—Ä—É–π—Ç–µ <b>Pull Request</b>:
- –≤–∫–ª–∞–¥–∫–∞ <b>Pull requests</b> —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ <b>GitHub</b> -> <b>New pull request</b>.
- –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ü–µ–ª–µ–≤—É—é –≤–µ—Ç–∫—É –∏ –∏—Å—Ö–æ–¥–Ω—É—é –≤–µ—Ç–∫—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ LINUX(–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ Ubuntu 22.04/WSL)
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–≤–æ—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏
  ```
  cd ~/<path_to_dev_directory>
  ```
  –≥–¥–µ <path_to_dev_directory> - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏.
  –õ–∏–±–æ, –µ—Å–ª–∏ —É –≤–∞—Å –æ–Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ –∏–Ω–æ–º –º–µ—Å—Ç–µ, —Ç–æ –ø—Ä–æ–ø–∏—à–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –ø—É—Ç—å
  ```
  cd /path/to/dev/directory
  ```

2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø—Ä–æ–µ–∫—Ç–æ–º
  ```
  git clone git@github.com:Studio-Yandex-Practicum/Goodstart_telegram_bot.git
  ```

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
  ```
  cd ~
  ```

4. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é Python.
  ```
  python3 -V
  ```
  –ï—Å–ª–∏ —É –≤–∞—Å –≤–µ—Ä—Å–∏—è 3.12.*, —Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —à–∞–≥—É 6.

5. –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –Ω–µ 3.12.*, —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –µ—ë —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å. –ú—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  pyenv, –Ω–∞ –µ–≥–æ –ø—Ä–∏–º–µ—Ä–µ –∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —É—Å—Ç–∞–Ω–æ–≤–∫—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏.
  –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pyenv.
  ```
  sudo apt update
  ```
  ```
  curl https://pyenv.run | bash
  ```
  –û–∂–∏–¥–∞–π—Ç–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
  –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –≤–∞—à —Ñ–∞–π–ª ~/.bashrc (–µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Bash)
  –∏–ª–∏ –≤ ~/.zshrc (–µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Zsh). –ï—Å–ª–∏ –æ–Ω–∏ —Ç–∞–º —É–∂–µ –µ—Å—Ç—å(–∏–ª–∏ –ø–æ—Ö–æ–∂–∏–µ),
  —Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —à–∞–≥.
  –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
  ```
  nano ~/.bashrc
  ```
  –≠—Ç–∏ —Å—Ç—Ä–æ–∫–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
  ```
  export PATH="$HOME/.pyenv/bin:$PATH"
  eval "$(pyenv init --path)"
  ```
  –≠—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤, –µ—Å–ª–∏ –∂–µ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ - 
  –ø–æ—á–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
  –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à —Ç–µ—Ä–º–∏–Ω–∞–ª, –ª–∏–±–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ(–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ bash)
  ```
  source ~/.bashrc
  ```
  —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É.
  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ pyenv —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
  ```
  pyenv --version
  ```
  –ï—Å–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤—ã–≤–µ–ª –≤ –æ—Ç–≤–µ—Ç 'pyenv 2.4.3'(—Ü–∏—Ñ—Ä—ã –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è), —Ç–æ –≤—Å—ë —Å–¥–µ–ª–∞–Ω–æ –≤–µ—Ä–Ω–æ.
  –¢–µ–ø–µ—Ä—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ pyenv —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é Python, –Ω–∞–ø—Ä–∏–º–µ—Ä, 3.12.4
  ```
  pyenv install 3.12.4
  ```
  –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω—É–∂–Ω–∞—è –≤–µ—Ä—Å–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
  ```
  pyenv versions
  ```
  –ï—Å–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤—ã–≤–µ–ª —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –∏ –≤ –Ω—ë–º –µ—Å—Ç—å —É–∫–∞–∑–∞–Ω–Ω–∞—è
  —Ä–∞–Ω–µ–µ –≤–µ—Ä—Å–∏—è - –≤—Å—ë —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
  ```
  * system (set by /home/user/.pyenv/version)
  3.9.19
  3.12.4
  ```

6. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.
  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ Goodstart.
  ```
  cd ~/path/to/dir/Goodstart_telegram_bot
  ```
  –ï—Å–ª–∏ —É –≤–∞—Å –±—ã–ª–∞ –ø–æ–¥—Ö–æ–¥—è—â–∞—è –≤–µ—Ä—Å–∏—è Python –∏ –≤—ã –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ —à–∞–≥ 5, —Ç–æ —Å—Ä–∞–∑—É
  –ø—Ä–∏—Å—Ç—É–ø–∞–π—Ç–µ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
  ```
  pip install poetry
  ```
  ```
  poetry shell
  ```
  ```
  poetry install
  ```
  –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–æ—à–ª–æ —É–¥–∞—á–Ω–æ, —Ç–æ –≤–∞—à —Ç–µ—Ä–º–∏–Ω–∞–ª –±—É–¥–µ—Ç
  –æ–∂–∏–¥–∞—Ç—å –≤–≤–æ–¥ –ø—Ä–∏–º–µ—Ä–Ω–æ —Å —Ç–∞–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º '(poetry-goodstart-py3.12) user@pc:'

  –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ –±—ã–ª–æ –ø–æ–¥—Ö–ª–¥—è—â–µ–π –≤–µ—Ä—Å–∏–∏ Python –∏ –≤—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ pyenv, —Ç–æ –Ω–∞–∑–Ω–∞—á—å—Ç–µ
  –ª–æ–∫–∞–ª—å–Ω—É—é(–¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞) –≤–µ—Ä—Å–∏—é Python –∏–∑ pyenv
  ```
  pyenv local 3.12.4
  ```
  –í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Ñ–∞–π–ª '.python-version',
  –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Å—Ç—Ä–æ–∫–∞ —Å –≤–µ—Ä—Å–∏–µ–π.
  –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  ```
  pip install poetry
  ```
  ```
  poetry shell
  ```
  ```
  poetry install
  ```
  –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–æ—à–ª–æ —É–¥–∞—á–Ω–æ, —Ç–æ –≤–∞—à —Ç–µ—Ä–º–∏–Ω–∞–ª –±—É–¥–µ—Ç
  –æ–∂–∏–¥–∞—Ç—å –≤–≤–æ–¥ –ø—Ä–∏–º–µ—Ä–Ω–æ —Å —Ç–∞–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º '(poetry-goodstart-py3.12) user@pc:'

7. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è '.env' –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞:
  ```
   # –ù–∞–∑–≤–∞–Ω–∏–µ, –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –¥–ª—è –ë–î postgres
   POSTGRES_DB=postgres <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   POSTGRES_USER=postgres <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   POSTGRES_PASSWORD=postgres <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   DB_ENGINE=django.db.backends.postgresql_psycopg2
   # –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
   DB_HOST=localhost
   DB_PORT=5432

   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Django
   # –ë–∞–∑–æ–≤—ã–π URL
   BASE_URL=https://127.0.0.1:8000
   # –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –•—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ –æ–±—â–∏–π –¥–æ—Å—Ç—É–ø
   SECRET_KEY=top_secret_key <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   # –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: Debug = true –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
   DEBUG=false <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   # –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤
   ALLOWED_HOSTS=localhost,127.0.0.1
   CSRF_TRUSTED_ORIGINS=https://yourdomain.org

   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±–æ—Ç–∞
   # –¢–æ–∫–µ–Ω –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram API
   TELEGRAM_TOKEN=<bot_token> <-- –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞—à —Ç–æ–∫–µ–Ω

   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è superuser django
   DJANGO_SUPERUSER_USERNAME=admin <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   DJANGO_SUPERUSER_EMAIL=admin@ad.ad <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   DJANGO_SUPERUSER_PASSWORD=admin <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   DJANGO_SUPERUSER_FIRSTNAME=Admin <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   DJANGO_SUPERUSER_LASTNAME=User <-- —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
   DJANGO_SUPERUSER_PHONE=+74950000000

   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—á—Ç–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
   EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
   EMAIL_HOST=smtp.yandex.ru
   EMAIL_PORT=465
   # —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –ø–æ—á—Ç–æ–≤–æ–º —Å–µ—Ä–≤–∏—Å–µ
   EMAIL_ACCOUNT=your_email@yandex.ru
   EMAIL_PASSWORD=your_yandex_smtp_password
   # –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∞–∫–∫–∞—É–Ω—Ç–∞ –æ—Ç–∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–∏—Å—å–º–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª IMAP
   # –∞–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   DEFAULT_EMAIL_ADDRESS=NOT_SET
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
   RUN_BOT=false <-- –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å false
  ```

8. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ mkcert
  ```
  sudo apt install mkcert
  ```
  –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
  ```
  mkcert --version
  ```
  –ï—Å–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç–≤–µ—Ç–∏–ª '1.4.3'(—Ü–∏—Ñ—Ä—ã –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è), —Ç–æ –≤—Å—ë —Å–¥–µ–ª–∞–Ω–æ –≤–µ—Ä–Ω–æ.

9. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã. –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
  ```
  make create-ssl
  ```
  –í –æ—Ç–≤–µ—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –ø–æ–º–∏–º–æ –ø—Ä–æ—á–µ–≥–æ, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏
  ```
  Created a new certificate valid for the following names üìú
  - "localhost"
  - "127.0.0.1"

  The certificate is at "cert.pem" and the key at "key.pem" ‚úÖ
  ```
  –¢–∞–∫–∂–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Goodstart_telegram_bot/infra/dev/ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª—ã
  cert.pem –∏ key.pem. –ï—Å–ª–∏ –≤—Å—ë —Ç–∞–∫, —Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É.

10. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç. –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã
  ```
  make start-db
  ```
  –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –î–∞–ª–µ–µ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É
  ```
  make init-app
  ```
  –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä. –î–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞—Ç—å—Å—è 
  superuser. –î–∞–ª–µ–µ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É
  ```
  make run-dev
  ```
  –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å, –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –≤—ã–≤–æ–¥
  ```
    export RUN_BOT=true; cd /home/user/dev/Goodstart_telegram_bot/src && poetry run uvicorn core.asgi_dev:application --reload --ssl-keyfile=../infra/dev/key.pem --ssl-certfile=../infra/dev/cert.pem --lifespan on
    INFO:     Will watch for changes in these directories: ['/home/user/dev/Goodstart_telegram_bot/src']
    INFO:     Uvicorn running on https://127.0.0.1:8000 (Press CTRL+C to quit)
    INFO:     Started reloader process [43863] using StatReload
    2024-06-25 22:29:32.964 | INFO     | bot.bot_interface:__init__:44 - Bot instance created.
    2024-06-25 22:29:32.965 | INFO     | bot.bot_interface:start:48 - Bot starting...
    2024-06-25 22:29:32.966 | INFO     | bot.bot_interface:_run:90 - Bot event loop created and started.
    2024-06-25 22:29:32.966 | INFO     | bot.bot_interface:start:52 - Bot started in a new thread.
    INFO:     Started server process [43867]
    INFO:     Waiting for application startup.
    INFO:     Application startup complete.
    /home/user/dev/Goodstart_telegram_bot/src/bot/bot_interface.py:120: PTBUserWarning: If 'per_message=False', 'CallbackQueryHandler' will not be tracked for every message. Read this FAQ entry to learn more about the per_* settings: https://github.com/python-telegram-bot/python-telegram-bot/wiki/Frequently-Asked-Questions#what-do-the-per_-settings-in-conversationhandler-do.
      return ConversationHandler
    2024-06-25 22:29:33.042 | INFO     | bot.bot_interface:_build_app:84 - Bot application built with handlers.
    2024-06-25 22:29:33.325 | INFO     | bot.bot_interface:_start_bot:104 - Bot is running.
  ```

11. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞. –í –±—Ä–∞—É–∑–µ—Ä–µ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É
  ```
  https://localhost:8000/admin/
  ```
  –ï—Å–ª–∏ https –∑–∞—á—ë—Ä–∫–Ω—É—Ç–æ –∏ —Å–ª–µ–≤–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ '–ù–µ –∑–∞—â–∏—â–µ–Ω–æ', —Ç–æ –≤ —Ü–µ–Ω—Ç—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ', –∑–∞—Ç–µ–º –Ω–∏–∂–µ '–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç localhost (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)'.
  –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–ø–∞–Ω–µ–ª—å, —Ç—É–¥–∞ –º–æ–∂–Ω–æ –ø–æ–ø–∞—Å—Ç—å, –µ—Å–ª–∏
  –≤–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∞ –∏–∑ —Ñ–∞–π–ª–∞ .env

  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –±–æ—Ç–∞. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–µ—Å–∫—Ç–æ–ø–Ω—É—é –≤–µ—Ä—Å–∏—é Telegram, –≤ –Ω—ë–º
  –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±–æ—Ç, —Ç–æ–∫–µ–Ω –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑–∞–ª–∏ –≤ —Ñ–∞–π–ª–µ .env. –ù–∞–∂–º–∏—Ç–µ START. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω
  –ø—Ä–∏—Å–ª–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —Å–Ω–∏–∑—É –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ '–û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏'.
  –ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –Ω–µ–π. –ï—Å–ª–∏ —Ä–∞–Ω–µ–µ —É –≤–∞—Å –±—ã–ª–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ '–ù–µ –∑–∞—â–∏—â–µ–Ω–æ', —Ç–æ –≤ –±–æ—Ç–µ
  –æ–Ω–æ —Ç–æ–∂–µ –±—É–¥–µ—Ç. –°–Ω–∏–∑—É –æ—Ç–∫—Ä—ã–≤—à–µ–≥–æ—Å—è –æ–∫–æ—à–∫–∞ –Ω–∞–∂–º–∏—Ç–µ '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ', –∑–∞—Ç–µ–º
  '–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç localhost (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)'. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.


## –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏<a id="ssl"></a>:

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ `.env` –∑–∞–¥–∞–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `BASE_URL=https://127.0.0.1:8000`

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å [mkcert](https://github.com/FiloSottile/mkcert). –î–ª—è –ø—Ä–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Windows –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `choco`.
2. –ö–æ–º–∞–Ω–¥–æ–π `make create-ssl` —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã.
3. –¢–µ–ø–µ—Ä—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏–º–µ–µ—Ç –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏ –Ω–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ "–º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö" –¥–µ–π—Å—Ç–≤–∏—è—Ö –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è.
4. –ï—Å–ª–∏ –ë—Ä–∞—É–∑–µ—Ä —Ä—É–≥–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–ø—Ä–∏ —ç—Ç–æ–º —Å–µ—Ä–∏—Ñ–∏–∫–∞—Ç —è–≤–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç) –≤—ã–ø–æ–ª–Ω–∏—Ç—å `mkcert -install`, –∞ –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –ø.2

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ django-admin-material<a id="dma"></a>:

C–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

```
MATERIAL_ADMIN_SITE = {
'HEADER': _('Your site header'), # Admin site header
'TITLE': _('Your site title'), # Admin site title
'FAVICON': 'path/to/favicon', # Admin site favicon (path to static should be specified)
'MAIN_BG_COLOR': 'color', # Admin site main color, css color should be specified
'MAIN_HOVER_COLOR': 'color', # Admin site main hover color, css color should be specified
'PROFILE_PICTURE': 'path/to/image', # Admin site profile picture (path to static should be specified)
'PROFILE_BG': 'path/to/image', # Admin site profile background (path to static should be specified)
'LOGIN_LOGO': 'path/to/image', # Admin site logo on login page (path to static should be specified)
'LOGOUT_BG': 'path/to/image', # Admin site background on login/logout pages (path to static should be specified)
'SHOW_THEMES': True, # Show default admin themes button
'TRAY_REVERSE': True, # Hide object-tools and additional-submit-line by default
'NAVBAR_REVERSE': True, # Hide side navbar by default
'SHOW_COUNTS': True, # Show instances counts for each model
'APP_ICONS': { # Set icons for applications(lowercase), including 3rd party apps, {'application_name': 'material_icon_name', ...}
'sites': 'send',
},
'MODEL_ICONS': { # Set icons for models(lowercase), including 3rd party models, {'model_name': 'material_icon_name', ...}
'site': 'contact_mail',
}
}
```
–í–æ—Ç —Ç—É—Ç –ø–æ–¥—Ä–æ–±–Ω–æ –ø–æ–∫–∞–∑–∞–Ω—ã:
https://www.youtube.com/watch?v=_ifWi-a1z6M&ab_channel=AntonMaistrenko

## –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
1. –°–æ–∑–¥–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–∞–ø–∫—É /home/username/Goodstart_telegram_bot
2. –í –ø–∞–ø–∫—É Goodstart_telegram_bot –ø–æ–ª–æ–∂–∏—Ç—å: 
- –∑–∞–ø–æ–ª–Ω–µ–Ω—ã–π —Ñ–∞–π–ª .env (—Å–º. .env.example)
- —Ñ–∞–π–ª docker-compose.dev.yaml
- –ø–∞–ø–∫—É infra\dev (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–µ—Ä–∞—Ä—Ö–∏–∏)
3. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```
sudo docker compose -f docker-compose.dev.yaml up -d```
```
4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```
sudo docker compose -f docker-compose.dev.yaml down
```
5. –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
sudo docker compose -f docker-compose.dev.yaml exec backend export RUN_BOT=false
sudo docker compose -f docker-compose.dev.yaml exec backend python manage.py createsuperuser
```
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CD
–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (settings->secrets and variables->Actions->Repository secrets) –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env.example